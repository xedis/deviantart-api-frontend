(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(9828)}])},9828:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(5893),i=a(7294),s=a(7066);function l(){let[e,t]=(0,i.useState)(null),[a,l]=(0,i.useState)([]),[r,c]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("access_token");e&&(t(e),h(e))},[]);let h=async e=>{try{let t=await s.Z.get("https://www.deviantart.com/api/v1/oauth2/gallery/all",{params:{access_token:e,limit:20}});l(t.data.results)}catch(e){c("Failed to fetch deviations.")}};return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Your Deviations"}),e?(0,n.jsxs)(n.Fragment,{children:[r&&(0,n.jsx)("p",{children:r}),(0,n.jsx)("ul",{children:a.map(e=>(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:e.url,children:e.title})},e.id))})]}):(0,n.jsx)("button",{onClick:()=>{window.location.href="https://da.xedis.net:5000/login"},children:"Login with DeviantArt"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[888,774,179],()=>t(5557)),_N_E=e.O()}]);